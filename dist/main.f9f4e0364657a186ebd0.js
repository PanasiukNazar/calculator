(()=>{"use strict";const e="theme-dark",t="theme-light",r="theme-toxic",n="+",s="-",a="x",i="/",c=document.querySelector(".choice-switch"),u=document.querySelector(".result"),h=document.querySelector(".buttons-small"),d=document.querySelector(".word-equal"),o=document.querySelector(".word-delete"),p=document.querySelector(".word-reset"),l=e=>{c.addEventListener("click",(t=>{O(t,e)})),h.addEventListener("click",(t=>{m(t,e)})),d.addEventListener("click",(()=>{v(e)})),p.addEventListener("click",(()=>e.cleanAll())),o.addEventListener("click",(()=>e.sliceOneSign()))},O=(e,t)=>{e.target.hasAttribute("data-theme")&&t.setCurrentTheme(e.target.getAttribute("data-theme"))},m=(e,t)=>{e.target.hasAttribute("data-number")&&t.setOperand(e.target.getAttribute("data-number")),e.target.hasAttribute("data-operator")&&t.setOperator(e.target.getAttribute("data-operator"))},v=e=>{e.equalResult(),e.cleanOperands()},g=n=>{n.onChange((function(n){document.body.classList=n.current.theme,c.innerHTML=`\n            <p class=" choice-first ${n.current.theme===e?"active-theme":""}" data-theme="${e}"></p>\n            <p class=" choice-second ${n.current.theme===t?"active-theme":""}" data-theme="${t}"></p>\n            <p class=" choice-third ${n.current.theme===r?"active-theme":""}" data-theme="${r}"></p>\n                `})),n.onChange((function(e){u.innerHTML=`\n       <div class="result-backdown">\n          <div data-previouse-number="first" class="result-numbers">${e.current.previousOperand}</div>\n          <div data-operator="operator" class="result-numbers">${e.current.operator}</div>\n          <div data-next-number="second"  class="result-numbers">${e.current.nextOperand}</div>\n       </div>\n        `}))},b={current:{previousOperand:"",nextOperand:"",operator:"",theme:e},_listeners:[],onChange(e){this._listeners.push(e)},changed(){this._listeners.forEach((e=>e(this)))},setCurrentTheme(e){this.current.theme=e,this.changed()},setOperand(e){"."===e&&this.hasPoint()||(""===this.current.operator&&(this.current.previousOperand+=e),""!==this.current.operator&&(this.current.nextOperand+=e),this.changed())},hasPoint(){const e=""==this.current.operator&&this.current.previousOperand.includes("."),t=""!==this.current.operator&&this.current.nextOperand.includes(".");return e||t},setOperator(e){this.setSecondOperator(),""!==this.current.previousOperand&&(this.current.operator=e),this.changed()},setSecondOperator(){""!==this.current.nextOperand&&(this.equalResult(),this.cleanOperands()),this.changed()},equalResult(){switch(this.current.operator){case n:this.current.previousOperand=+this.current.previousOperand+ +this.current.nextOperand;break;case s:this.current.previousOperand=this.current.previousOperand-this.current.nextOperand;break;case a:this.current.previousOperand=this.current.previousOperand*this.current.nextOperand;break;case i:this.current.previousOperand=this.current.previousOperand/this.current.nextOperand;break;default:return}this.changed()},sliceOneSign(){""!==this.current.nextOperand?this.current.nextOperand=this.current.nextOperand.slice(0,-1):""!==this.current.operator?this.current.operator=this.current.operator.slice(0,-1):""!==this.current.previousOperand&&(this.current.previousOperand=this.current.previousOperand.toString().slice(0,-1)),this.changed()},cleanOperands(){this.current.nextOperand="",this.current.operator="",this.changed()},cleanAll(){this.current.previousOperand="",this.cleanOperands()}};(e=>{l(e),g(e)})(b),b.changed()})();
//# sourceMappingURL=main.f9f4e0364657a186ebd0.js.map